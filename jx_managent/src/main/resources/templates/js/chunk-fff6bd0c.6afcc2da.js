(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fff6bd0c"],{"2a4f":function(t,a,e){},4105:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",{staticClass:"search-wrapper"},[e("Col",{attrs:{span:"12"}},[e("Row",{staticClass:"search-bar"},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择商品分类",clearable:!0},model:{value:t.searchObj.className,callback:function(a){t.$set(t.searchObj,"className",a)},expression:"searchObj.className"}},t._l(t.classNameList,function(a,i){return e("Option",{key:i,attrs:{value:a}},[t._v(t._s(a))])})),e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择商品状态",clearable:!0},model:{value:t.searchObj.commodityStatus,callback:function(a){t.$set(t.searchObj,"commodityStatus",a)},expression:"searchObj.commodityStatus"}},t._l(t.statusList,function(a,i){return e("Option",{key:i,attrs:{value:a}},[t._v(t._s(a))])}))],1),e("Row",{staticClass:"search-bar"},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"商品名称",autofocus:"",maxlength:50,clearable:!0},model:{value:t.searchObj.commodityName,callback:function(a){t.$set(t.searchObj,"commodityName",a)},expression:"searchObj.commodityName"}}),e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择匠人姓名",clearable:!0},model:{value:t.searchObj.artistId,callback:function(a){t.$set(t.searchObj,"artistId",a)},expression:"searchObj.artistId"}},t._l(t.artistList,function(a,i){return e("Option",{key:i,attrs:{value:a.id}},[t._v(t._s(a.name))])}))],1),e("Row",{staticClass:"search-bar"},[e("Button",{attrs:{type:"primary",loading:t.searchloading},on:{click:t.search}},[t.searchloading?e("span",[t._v("Loading...")]):e("span",[t._v("查询")])])],1)],1),e("Col",{attrs:{span:"2",offset:"10"}},[e("Button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("新增商品")])],1)],1),e("Table",{attrs:{columns:t.columns,data:t.goodsList}}),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"right"}},[e("Page",{attrs:{current:t.currentPage,pageSize:t.pageSize,"show-elevator":"","show-sizer":""},on:{"on-change":t.changePage}})],1)])],1)},s=[],o=(e("ac6a"),{data:function(){var t=this;return{columns:[{title:"商品编号",key:"commodityNum"},{title:"商品名称",key:"commodityName"},{title:"分类",key:"className"},{title:"作者",key:"artistName"},{title:"工艺",key:"way"},{title:"商品上架量",key:"commodityShelf"},{title:"商品库存",key:"commodityStock"},{title:"商品状态",key:"commodityStatus"},{title:"操作",key:"action",width:300,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"info",size:"small",to:"goods-detail?id="+e.row.id},style:{"margin-left":"7px"}},"详情"),a("Button",{props:{type:"info",size:"small",to:"goods-edit?id="+e.row.id},style:{"margin-left":"7px"}},"编辑"),a("Button",{props:{type:"error",size:"small"},style:{"margin-left":"7px"},on:{click:function(){t.deleteRow(e.row.id)}}},"删除")])}}],goodsList:[],pageSize:20,dataCountTotal:0,currentPage:1,searchloading:!1,searchObj:{className:"茶杯",artistName:"",commodityStatus:"上架",commodityName:""},classNameList:["茶杯","茶壶","茶盘","茶叶罐","盖碗","公道杯","套装","茶道配件","茶道装饰","瓷板画","文房用品"],statusList:["上架","销售中","已售完"],artistList:[]}},created:function(){this.init(1),this.getArtistList()},methods:{init:function(t){var a=this,e={pageNum:t,pageSize:this.pageSize};this.$axios({method:"post",url:"/commodity/findPage",data:e,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(t){console.log(t);var e=t.data;1==e.code?(a.goodsList=e.data.list,a.dataCountTotal=e.data.data):a.$Notice.warning({title:e.msg})})},addGoods:function(){this.$router.push({name:"goods-edit"})},search:function(){var t=this;this.searchloading=!0,this.$axios({method:"post",url:"/commodity/findList",data:this.searchObj,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(a){t.searchloading=!1;var e=a.data;if(1==e.code){if(0==e.data.length)return void t.$Notice.warning({title:"没有搜索到结果"});t.goodsList=e.data}else t.$Notice.warning({title:e.msg})}).then(function(a){t.searchloading=!1})},deleteRow:function(t){var a=this,e={id:t};this.$axios.post("/commodity/deleteOne",this.$qs.stringify(e)).then(function(t){a.searchloading=!1;var e=t.data;1==e.code?(a.init(a.currentPage),a.$Notice.success({title:"删除成功"})):a.$Notice.warning({title:e.msg})}).then(function(t){a.searchloading=!1})},changePage:function(t){this.init(t)},getArtistList:function(){var t=this;this.$axios.post("/artist/findAllList").then(function(a){console.log(a);var e=a.data;1==e.code?e.data.forEach(function(a,e){var i={id:a.id,name:a.artistName};t.artistList.push(i)}):t.$Notice.warning({title:e.msg})})}}}),n=o,c=(e("ddc1"),e("2877")),r=Object(c["a"])(n,i,s,!1,null,null,null);r.options.__file="List.vue";a["default"]=r.exports},ddc1:function(t,a,e){"use strict";var i=e("2a4f"),s=e.n(i);s.a}}]);