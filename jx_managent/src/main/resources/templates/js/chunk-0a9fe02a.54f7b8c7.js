(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a9fe02a"],{"3a7a":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("Card",[t.id?e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      运营编辑\n  ")]):e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      运营添加\n  ")]),e("Form",{attrs:{model:t.content,"label-width":120}},[e("FormItem",{attrs:{label:"平台"}},[e("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择平台","label-in-value":!0},on:{"on-change":t.choosePlatform},model:{value:t.content.platid,callback:function(i){t.$set(t.content,"platid",i)},expression:"content.platid"}},t._l(t.platformList,function(i,n){return e("Option",{key:n,attrs:{value:i.id}},[t._v(t._s(i.name))])}))],1),e("FormItem",{attrs:{label:"活动名称"}},[e("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入活动名称"},model:{value:t.content.activityName,callback:function(i){t.$set(t.content,"activityName",i)},expression:"content.activityName"}})],1),e("FormItem",{attrs:{label:"进度"}},[e("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择进度"},model:{value:t.content.currentActivity,callback:function(i){t.$set(t.content,"currentActivity",i)},expression:"content.currentActivity"}},t._l(t.currentActivityList,function(i,n){return e("Option",{key:n,attrs:{value:i}},[t._v(t._s(i))])}))],1),e("FormItem",{attrs:{label:"匠人"}},[e("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择匠人","label-in-value":!0},on:{"on-change":t.chooseArtist},model:{value:t.content.artistid,callback:function(i){t.$set(t.content,"artistid",i)},expression:"content.artistid"}},t._l(t.artistList,function(i,n){return e("Option",{key:n,attrs:{value:i.id}},[t._v(t._s(i.name))])}))],1),e("FormItem",{attrs:{label:"预计上线时间"}},[e("DatePicker",{staticStyle:{width:"400px"},attrs:{value:t.content.preDate,type:"date",format:"yyyy-MM-dd",placement:"bottom-start",placeholder:"请选择预计上线时间"},on:{"on-change":function(i){t.content.preDate=i}}})],1),e("div",{staticClass:"btn"},[e("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:t.loading,size:"large"},on:{click:t.submit}},[t.loading?e("span",[t._v("Loading...")]):e("span",[t._v("提交")])])],1)],1)],1)},a=[],o=(e("ac6a"),e("8615"),e("ade3")),s={data:function(){return{content:Object(o["a"])({platName:"",activityName:"",currentActivity:"",artistName:"",artistid:"",platid:""},"platName",""),id:"",loading:!1,currentActivityList:["静象入库","产品拍照","产品文案","页面设计","后台上传","平台审核","活动上线","活动结束"],artistList:[],platformList:[],preDate:"2019-5-4"}},created:function(){this.id=this.$route.query.id,this.getArtistList(),this.getPlatfromList(),this.id&&this.init()},methods:{init:function(){var t=this,i={id:this.id};this.$axios.post("/operation/getOne/",this.$qs.stringify(i)).then(function(i){console.log(e);var e=i.data;1==e.code?t.content=e.data:t.$Notice.warning({title:e.msg})})},add:function(){var t=this;this.$axios({method:"post",url:"/operation/addOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(i){t.loading=!1;var e=i.data;1==e.code?t.$router.push({name:"operating-list"}):t.$Notice.warning({title:e.msg})}).then(function(i){t.loading=!1})},edit:function(){var t=this;this.content.id=this.id,this.$axios({method:"post",url:"/operation/updateOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(i){t.loading=!1;var e=i.data;1==e.code?t.$router.push({name:"operating-list"}):t.$Notice.warning({title:e.msg})}).then(function(i){t.loading=!1})},submit:function(){0!=Object.values(this.content).length?(this.loading=!0,this.id?this.edit():this.add()):this.$Notice.warning({title:"请输入数据"})},getArtistList:function(){var t=this;this.$axios.post("/artist/findAllList").then(function(i){console.log(i);var e=i.data;1==e.code?e.data.forEach(function(i,e){var n={id:i.id,name:i.artistName};t.artistList.push(n)}):t.$Notice.warning({title:e.msg})})},chooseArtist:function(t){this.content.artistName=t.label,this.content.artistid=t.value},getPlatfromList:function(){var t=this;this.$axios.post("/plat/findAllList").then(function(i){var e=i.data;1==e.code?e.data.forEach(function(i,e){var n={id:i.id,name:i.wayName};t.platformList.push(n)}):t.$Notice.warning({title:e.msg})})},choosePlatform:function(t){this.content.platName=t.label,this.content.platid=t.value}}},c=s,r=(e("c440"),e("2877")),l=Object(r["a"])(c,n,a,!1,null,null,null);l.options.__file="Edit.vue";i["default"]=l.exports},4761:function(t,i,e){},"504c":function(t,i,e){var n=e("0d58"),a=e("6821"),o=e("52a7").f;t.exports=function(t){return function(i){var e,s=a(i),c=n(s),r=c.length,l=0,d=[];while(r>l)o.call(s,e=c[l++])&&d.push(t?[e,s[e]]:s[e]);return d}}},8615:function(t,i,e){var n=e("5ca1"),a=e("504c")(!1);n(n.S,"Object",{values:function(t){return a(t)}})},c440:function(t,i,e){"use strict";var n=e("4761"),a=e.n(n);a.a}}]);