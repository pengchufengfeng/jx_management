(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-431e2db4"],{"1f1e":function(t,e,a){"use strict";var i=a("d268"),n=a.n(i);n.a},d268:function(t,e,a){},f495:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticClass:"search-wrapper"},[a("Col",{attrs:{span:"12"}},[a("Row",{staticClass:"search-bar"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"匠人姓名",autofocus:"",maxlength:50,clearable:""},model:{value:t.searchObj.artistName,callback:function(e){t.$set(t.searchObj,"artistName",e)},expression:"searchObj.artistName"}}),a("Button",{attrs:{type:"primary",loading:t.searchloading},on:{click:t.search}},[t.searchloading?a("span",[t._v("Loading...")]):a("span",[t._v("查询")])])],1)],1),a("Col",{attrs:{span:"2",offset:"10"}},[a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增匠人")])],1)],1),a("Table",{attrs:{columns:t.columns,data:t.list}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{current:t.currentPage,pageSize:t.pageSize,"show-elevator":"","show-sizer":""},on:{"on-change":t.changePage}})],1)])],1)},n=[],s={data:function(){var t=this;return{columns:[{title:"姓名",key:"artistName"},{title:"头衔",key:"title"},{title:"领域",key:"area"},{title:"联系方式",key:"phone"},{title:"操作",key:"action",width:300,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"info",size:"small",to:"artist-detail?id="+a.row.id},style:{"margin-left":"7px"}},"详情"),e("Button",{props:{type:"info",size:"small",to:"artist-edit?id="+a.row.id},style:{"margin-left":"7px"}},"编辑"),e("Button",{props:{type:"error",size:"small"},style:{"margin-left":"7px"},on:{click:function(){t.deleteRow(a.row.id)}}},"删除")])}}],list:[],pageSize:20,dataCountTotal:0,currentPage:1,searchloading:!1,searchObj:{artistName:""},classNameList:["茶杯","茶壶","茶盘","茶叶罐","盖碗","公道杯","套装","茶道配件","茶道装饰","瓷板画","文房用品"],statusList:["上架","销售中","已售完"]}},created:function(){this.init(1)},methods:{init:function(t){var e=this,a={pageNum:t,pageSize:this.pageSize};this.$axios({method:"post",url:"/artist/findPageByJx",data:a,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(t){console.log(t);var a=t.data;1==a.code?(e.list=a.data.list,e.dataCountTotal=a.data.data):e.$Notice.warning({title:a.msg})})},add:function(){this.$router.push({name:"artist-edit"})},search:function(){var t=this;this.searchloading=!0,this.$axios({method:"post",url:"/artist/findListByJx",data:this.searchObj,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(e){t.searchloading=!1;var a=e.data;if(1==a.code){if(0==a.data.length)return void t.$Notice.warning({title:"没有搜索到结果"});t.list=a.data}else t.$Notice.warning({title:a.msg})}).then(function(e){t.searchloading=!1})},deleteRow:function(t){var e=this,a={id:t};this.$axios.post("/artist/deleteOne",this.$qs.stringify(a)).then(function(t){e.searchloading=!1;var a=t.data;1==a.code?(e.init(e.currentPage),e.$Notice.success({title:"删除成功"})):e.$Notice.warning({title:a.msg})}).then(function(t){e.searchloading=!1})},changePage:function(t){this.init(t)}}},o=s,r=(a("1f1e"),a("2877")),c=Object(r["a"])(o,i,n,!1,null,null,null);c.options.__file="List.vue";e["default"]=c.exports}}]);