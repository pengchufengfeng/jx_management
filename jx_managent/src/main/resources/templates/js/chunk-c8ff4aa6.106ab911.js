(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8ff4aa6"],{"143b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n     "+t._s(t.id?"编辑商品":"添加商品")+" \n  ")]),n("Form",{attrs:{model:t.content,"label-width":120}},[n("FormItem",{attrs:{label:"商品编号"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品编号"},model:{value:t.content.commodityNum,callback:function(e){t.$set(t.content,"commodityNum",e)},expression:"content.commodityNum"}})],1),n("FormItem",{attrs:{label:"商品名称"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品名称"},model:{value:t.content.commodityName,callback:function(e){t.$set(t.content,"commodityName",e)},expression:"content.commodityName"}})],1),n("FormItem",{attrs:{label:"匠人"}},[n("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择匠人","label-in-value":!0},on:{"on-change":t.chooseArtist},model:{value:t.content.artistid,callback:function(e){t.$set(t.content,"artistid",e)},expression:"content.artistid"}},t._l(t.artistList,function(e,a){return n("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),n("FormItem",{attrs:{label:"销售平台"}},[n("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择平台","label-in-value":!0},on:{"on-change":t.choosePlatform},model:{value:t.content.platid,callback:function(e){t.$set(t.content,"platid",e)},expression:"content.platid"}},t._l(t.platformList,function(e,a){return n("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),n("FormItem",{attrs:{label:"销售类型"}},[n("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择销售类型"},model:{value:t.content.saleStyle,callback:function(e){t.$set(t.content,"saleStyle",e)},expression:"content.saleStyle"}},t._l(t.classNameList,function(e,a){return n("Option",{key:a,attrs:{value:e}},[t._v(t._s(e))])}))],1),n("FormItem",{attrs:{label:"商品单价"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品单价"},model:{value:t.content.prePrice,callback:function(e){t.$set(t.content,"prePrice",e)},expression:"content.prePrice"}})],1),n("FormItem",{attrs:{label:"商品销售量"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售量"},model:{value:t.content.commodityAmount,callback:function(e){t.$set(t.content,"commodityAmount",e)},expression:"content.commodityAmount"}})],1),n("FormItem",{attrs:{label:"商品销售额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售额"},model:{value:t.content.salePrice,callback:function(e){t.$set(t.content,"salePrice",e)},expression:"content.salePrice"}})],1),n("FormItem",{attrs:{label:"商品结算额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品结算额"},model:{value:t.content.finalPrice,callback:function(e){t.$set(t.content,"finalPrice",e)},expression:"content.finalPrice"}})],1),n("FormItem",{attrs:{label:"销售日期"}},[n("DatePicker",{staticStyle:{width:"400px"},attrs:{value:t.content.saleDate,type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placement:"bottom-start",placeholder:"选择销售时间"},on:{"on-change":t.getSaleDate}})],1),n("div",{staticClass:"btn"},[n("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:t.loading,size:"large"},on:{click:t.submit}},[t.loading?n("span",[t._v("Loading...")]):n("span",[t._v("提交")])])],1)],1)],1)},i=[],o=(n("ac6a"),n("8615"),{data:function(){return{content:{commodityNum:"",wayName:"",saleStyle:"",prePrice:"",commodityAmount:"",salePrice:"",finalPrice:"",updateDate:""},id:"",loading:!1,classNameList:["正常价","活动价"],artistList:[],platformList:[]}},created:function(){this.id=this.$route.query.id,this.getArtistList(),this.getPlatfromList(),this.id&&this.init()},methods:{init:function(){var t=this,e={id:this.id};this.$axios.post("/sale/getOneByJx",this.$qs.stringify(e)).then(function(e){console.log(n);var n=e.data;1==n.code?t.content=n.data:t.$Notice.warning({title:n.msg})})},getSaleDate:function(t){this.content.saleDate=t},add:function(){var t=this;this.$axios({method:"post",url:"/sale/addOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(e){t.loading=!1;var n=e.data;1==n.code?t.$router.push({name:"sales-list"}):t.$Notice.warning({title:n.msg})}).then(function(e){t.loading=!1})},edit:function(){var t=this;this.content.id=this.id,this.$axios({method:"post",url:"/sale/updateOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(e){t.loading=!1;var n=e.data;1==n.code?t.$router.push({name:"sales-list"}):t.$Notice.warning({title:n.msg})}).then(function(e){t.loading=!1})},submit:function(){0!=Object.values(this.content).length?(this.loading=!0,this.id?this.edit():this.add()):this.$Notice.warning({title:"请输入数据"})},getArtistList:function(){var t=this;this.$axios.post("/artist/findAllList").then(function(e){console.log(e);var n=e.data;1==n.code?n.data.forEach(function(e,n){var a={id:e.id,name:e.artistName};t.artistList.push(a)}):t.$Notice.warning({title:n.msg})})},chooseArtist:function(t){this.content.artistName=t.label,this.content.artistid=t.value},getPlatfromList:function(){var t=this;this.$axios.post("/plat/findAllList").then(function(e){var n=e.data;1==n.code?n.data.forEach(function(e,n){var a={id:e.id,name:e.wayName};t.platformList.push(a)}):t.$Notice.warning({title:n.msg})})},choosePlatform:function(t){this.content.platName=t.label,this.content.platid=t.value}}}),s=o,l=(n("a655"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,null,null);c.options.__file="SalesEdit.vue";e["default"]=c.exports},"1aa4":function(t,e,n){},"504c":function(t,e,n){var a=n("0d58"),i=n("6821"),o=n("52a7").f;t.exports=function(t){return function(e){var n,s=i(e),l=a(s),c=l.length,r=0,d=[];while(c>r)o.call(s,n=l[r++])&&d.push(t?[n,s[n]]:s[n]);return d}}},8615:function(t,e,n){var a=n("5ca1"),i=n("504c")(!1);a(a.S,"Object",{values:function(t){return i(t)}})},a655:function(t,e,n){"use strict";var a=n("1aa4"),i=n.n(a);i.a}}]);