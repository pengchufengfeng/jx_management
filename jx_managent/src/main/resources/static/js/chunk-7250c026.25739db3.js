(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7250c026"],{"504c":function(t,e,n){var c=n("0d58"),a=n("6821"),o=n("52a7").f;t.exports=function(t){return function(e){var n,i=a(e),l=c(i),s=l.length,r=0,d=[];while(s>r)o.call(i,n=l[r++])&&d.push(t?[n,i[n]]:i[n]);return d}}},8615:function(t,e,n){var c=n("5ca1"),a=n("504c")(!1);c(c.S,"Object",{values:function(t){return a(t)}})},8760:function(t,e,n){"use strict";var c=n("9a6c"),a=n.n(c);a.a},"9a6c":function(t,e,n){},ee99:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n       "+t._s(t.id?"编辑结算":"添加结算")+"\n    ")]),n("Form",{attrs:{model:t.content,"label-width":120}},[n("FormItem",{attrs:{label:"商品名称"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品名称",readonly:""},model:{value:t.content.commodityName,callback:function(e){t.$set(t.content,"commodityName",e)},expression:"content.commodityName"}})],1),n("FormItem",{attrs:{label:"匠人"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入匠人",readonly:""},model:{value:t.content.artistName,callback:function(e){t.$set(t.content,"artistName",e)},expression:"content.artistName"}})],1),n("FormItem",{attrs:{label:"销售平台"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入销售平台",readonly:""},model:{value:t.content.platName,callback:function(e){t.$set(t.content,"platName",e)},expression:"content.platName"}})],1),n("FormItem",{attrs:{label:"销售类型"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入销售类型",readonly:""},model:{value:t.content.saleStyle,callback:function(e){t.$set(t.content,"saleStyle",e)},expression:"content.saleStyle"}})],1),n("FormItem",{attrs:{label:"商品单价"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品单价",readonly:""},model:{value:t.content.prePrice,callback:function(e){t.$set(t.content,"prePrice",e)},expression:"content.prePrice"}})],1),n("FormItem",{attrs:{label:"商品销售量"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售量",readonly:""},model:{value:t.content.commodityAmount,callback:function(e){t.$set(t.content,"commodityAmount",e)},expression:"content.commodityAmount"}})],1),n("FormItem",{attrs:{label:"商品销售额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售额",readonly:""},model:{value:t.content.salePrice,callback:function(e){t.$set(t.content,"salePrice",e)},expression:"content.salePrice"}})],1),n("FormItem",{attrs:{label:"实际销售额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售额",readonly:""},model:{value:t.content.saleFactPrice,callback:function(e){t.$set(t.content,"saleFactPrice",e)},expression:"content.saleFactPrice"}})],1),n("FormItem",{attrs:{label:"退款额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品销售额",readonly:""},model:{value:t.content.saleBackPrice,callback:function(e){t.$set(t.content,"saleBackPrice",e)},expression:"content.saleBackPrice"}})],1),n("FormItem",{attrs:{label:"折扣率"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入折扣率"},model:{value:t.content.discount,callback:function(e){t.$set(t.content,"discount",e)},expression:"content.discount"}})],1),n("FormItem",{attrs:{label:"平台服务费率"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台服务费率"},model:{value:t.content.platRate,callback:function(e){t.$set(t.content,"platRate",e)},expression:"content.platRate"}})],1),n("FormItem",{attrs:{label:"改价金额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入改价金额"},model:{value:t.content.changePrice,callback:function(e){t.$set(t.content,"changePrice",e)},expression:"content.changePrice"}})],1),n("FormItem",{attrs:{label:"优惠金额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入优惠金额"},model:{value:t.content.reductPrice,callback:function(e){t.$set(t.content,"reductPrice",e)},expression:"content.reductPrice"}})],1),n("FormItem",{attrs:{label:"平台结算额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台结算额"},model:{value:(t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice,callback:function(e){t.$set((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content,"reductPrice",e)},expression:"((content.saleFactPrice-content.changePrice)*content.discount*(1-content.platRate))-content.reductPrice"}})],1),n("FormItem",{attrs:{label:"匠人结算额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入匠人结算额"},model:{value:((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice)*t.content.artistRate,callback:function(e){t.$set(((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice)*t.content,"artistRate",e)},expression:"(((content.saleFactPrice-content.changePrice)*content.discount*(1-content.platRate))-content.reductPrice)*content.artistRate"}})],1),n("FormItem",{attrs:{label:"总结算额"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入商品结算额"},model:{value:(t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice-((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice)*t.content.artistRate,callback:function(e){t.$set((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice-((t.content.saleFactPrice-t.content.changePrice)*t.content.discount*(1-t.content.platRate)-t.content.reductPrice)*t.content,"artistRate",e)},expression:"(((content.saleFactPrice-content.changePrice)*content.discount*(1-content.platRate))-content.reductPrice)-(((content.saleFactPrice-content.changePrice)*content.discount*(1-content.platRate))-content.reductPrice)*content.artistRate"}})],1),n("FormItem",{attrs:{label:"结算日期"}},[n("DatePicker",{staticStyle:{width:"400px"},attrs:{value:t.content.countDate,type:"datetime",format:"yyyy-MM-dd",placement:"bottom-start",placeholder:"选择结算日期"},on:{"on-change":t.getCountDate}})],1),n("FormItem",{attrs:{label:"备注"}},[n("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入备注"},model:{value:t.content.note,callback:function(e){t.$set(t.content,"note",e)},expression:"content.note"}})],1),n("div",{staticClass:"btn"},[n("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:t.loading,size:"large"},on:{click:t.submit}},[t.loading?n("span",[t._v("Loading...")]):n("span",[t._v("提交")])])],1)],1)],1)},a=[],o=(n("ac6a"),n("8615"),n("cadf"),n("551c"),n("097d"),{data:function(){return{content:{commodityNum:"",wayName:"",saleStyle:"",prePrice:"",commodityAmount:"",salePrice:0,saleBackPrice:0,saleFactPrice:0,finalPrice:0,artistFinalPrice:0,saleFinalPrice:0,platRate:0,artistRate:0,updateDate:"",artistName:"",commodityName:"",saleWay:"",commodityId:"",platName:"",platId:"",discount:1,changeDiscount:"",reductDiscount:"",countDate:"",note:""},id:"",loading:!1}},created:function(){this.id=this.$route.query.id,this.id&&this.init()},methods:{init:function(){var t=this,e={id:this.id};this.$axios({method:"post",url:"/account/getOne",data:this.$qs.stringify(e),headers:{Authorization:window.localStorage.getItem("token")}}).then(function(e){var n=e.data;console.log(n),1==n.code?t.content=n.data:t.$Notice.warning({title:n.msg})})},add:function(){var t=this;this.content.this.$axios({method:"post",url:"/account/addOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8",Authorization:window.localStorage.getItem("token")}}).then(function(e){console.log(t.content),t.loading=!1;var n=e.data;console.log(n),1==n.code?t.$router.push({name:"counts-list"}):t.$Notice.warning({title:n.msg})}).then(function(e){t.loading=!1})},edit:function(){var t=this;this.content.id=this.id,this.content.saleFinalPrice=(this.content.saleFactPrice-this.content.changePrice)*this.content.discount*(1-this.content.platRate)-this.content.reductPrice,this.content.artistFinalPrice=this.content.saleFinalPrice*this.content.artistRate,this.content.finalPrice=this.content.saleFinalPrice*(1-this.content.artistRate),console.log(this.content),this.$axios({method:"post",url:"/account/updateOne",data:this.content,headers:{"content-type":"application/json; charset=UTF-8",Authorization:window.localStorage.getItem("token")}}).then(function(e){console.log(t.content),t.loading=!1;var n=e.data;1==n.code?t.$router.push({name:"counts-list"}):t.$Notice.warning({title:n.msg})}).then(function(e){t.loading=!1})},getCountDate:function(t){this.content.countDate=t},submit:function(){0!=Object.values(this.content).length?(this.loading=!0,this.id?this.edit():this.add()):this.$Notice.warning({title:"请输入数据"})}}}),i=o,l=(n("8760"),n("2877")),s=Object(l["a"])(i,c,a,!1,null,null,null);s.options.__file="CountEdit.vue";e["default"]=s.exports}}]);